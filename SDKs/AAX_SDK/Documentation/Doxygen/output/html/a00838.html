<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AAX SDK: Token protocol</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="aaxdoxy.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pure-purple-avid-logo-solid.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AAX SDK
   &#160;<span id="projectnumber">2.4.0</span>
   </div>
   <div id="projectbrief">Avid Audio Extensions Development Kit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="modules.html"><span>Manual</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Lists</span></a></li>
      <li><a href="usergroup0.html"><span>Support</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Token protocol<div class="ingroups"><a class="el" href="a00808.html">AAX SDK Manual</a> &raquo; <a class="el" href="a00833.html">Additional Topics</a> &raquo; <a class="el" href="a00836.html">Parameter updates</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>Communicating parameter state with the host. </p>
<h1><a class="anchor" id="advancedTopics_parameterUpdates_tokenProtocol_contents"></a>
On this page</h1>
<ul>
<li><a class="el" href="a00838.html#tokenProtocol_introductionToTokens">An Introduction to Tokens</a> </li>
<li><a class="el" href="a00838.html#tokenProtocol_standardTokenOperation">Basic Token Operation</a></li>
</ul>
<div class="section"> </div><h1><a class="anchor" id="tokenProtocol_introductionToTokens"></a>
An Introduction to Tokens</h1>
<div class="section">One way in which a plug-in can communicate with the "outside world" is through Shared Data Services, also known as the Token System. This is a mechanism that allows Pro Tools to share parameter information with external hardware and software modules. While the AAX SDK only uses the Token System indirectly, knowing how it works will provide a good understanding of how linked parameters should operate.</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_introductionToTokens_touch"></a>
Touch</h2>
<div class="section">Touch tokens inform the system of user interaction with a parameter. When a parameter is being touched the system knows to stop sending automation data to the plug-in and just use the SET value of the parameter. It is also used to tell the system when to start/stop recording new automation data.</div><div class="section">In AAX, the touch message is sent to the host by <a class="el" href="a02061.html#a30fdb67042b8dc9fb42fa9023ed9cce0">AAX_IAutomationDelegate::PostTouchRequest()</a>. The most common way to call this method is via the following methods:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="a02113.html">AAX_IEffectParameters</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="a00404.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a> <a class="code" href="a01953.html#ae82e80cbfd9cb837f8101a85f06856ba">TouchParameter</a> ( <a class="code" href="a00404.html#a1440c756fe5cb158b78193b2fc1780d1">AAX_CParamID</a> inParameterID );</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="a00404.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a> <a class="code" href="a01953.html#a2caf1b7b8e2dad62cf96f144479dee60">ReleaseParameter</a> ( <a class="code" href="a00404.html#a1440c756fe5cb158b78193b2fc1780d1">AAX_CParamID</a> inParameterID );</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code" href="a02145.html">AAX_IParameter</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a02145.html#a74c71243313f9d817c8bcb77550969aa">Touch</a> ();                      </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a02145.html#a3d4869d9b6ec03d4f95f33f56479756f">Release</a> ();</div>
<div class="line">};</div>
<div class="ttc" id="aa00404_html_a1440c756fe5cb158b78193b2fc1780d1"><div class="ttname"><a href="a00404.html#a1440c756fe5cb158b78193b2fc1780d1">AAX_CParamID</a></div><div class="ttdeci">const char * AAX_CParamID</div><div class="ttdoc">Parameter identifier.</div><div class="ttdef"><b>Definition:</b> AAX.h:352</div></div>
<div class="ttc" id="aa00404_html_a4d8f69a697df7f70c3a8e9b8ee130d2f"><div class="ttname"><a href="a00404.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a></div><div class="ttdeci">int32_t AAX_Result</div><div class="ttdef"><b>Definition:</b> AAX.h:337</div></div>
<div class="ttc" id="aa01953_html_a2caf1b7b8e2dad62cf96f144479dee60"><div class="ttname"><a href="a01953.html#a2caf1b7b8e2dad62cf96f144479dee60">AAX_IACFEffectParameters::ReleaseParameter</a></div><div class="ttdeci">virtual AAX_Result ReleaseParameter(AAX_CParamID iParameterID)=0</div><div class="ttdoc">Releases a parameter from a &quot;touched&quot; state.</div></div>
<div class="ttc" id="aa01953_html_ae82e80cbfd9cb837f8101a85f06856ba"><div class="ttname"><a href="a01953.html#ae82e80cbfd9cb837f8101a85f06856ba">AAX_IACFEffectParameters::TouchParameter</a></div><div class="ttdeci">virtual AAX_Result TouchParameter(AAX_CParamID iParameterID)=0</div><div class="ttdoc">&quot;Touches&quot; (locks) a parameter in the automation system to a particular control in preparation for upd...</div></div>
<div class="ttc" id="aa02113_html"><div class="ttname"><a href="a02113.html">AAX_IEffectParameters</a></div><div class="ttdoc">The interface for an AAX Plug-in's data model.</div><div class="ttdef"><b>Definition:</b> AAX_IEffectParameters.h:83</div></div>
<div class="ttc" id="aa02145_html"><div class="ttname"><a href="a02145.html">AAX_IParameter</a></div><div class="ttdoc">The base interface for all normalizable plug-in parameters.</div><div class="ttdef"><b>Definition:</b> AAX_IParameter.h:140</div></div>
<div class="ttc" id="aa02145_html_a3d4869d9b6ec03d4f95f33f56479756f"><div class="ttname"><a href="a02145.html#a3d4869d9b6ec03d4f95f33f56479756f">AAX_IParameter::Release</a></div><div class="ttdeci">virtual void Release()=0</div><div class="ttdoc">Signals the automation system that a control has been released.</div></div>
<div class="ttc" id="aa02145_html_a74c71243313f9d817c8bcb77550969aa"><div class="ttname"><a href="a02145.html#a74c71243313f9d817c8bcb77550969aa">AAX_IParameter::Touch</a></div><div class="ttdeci">virtual void Touch()=0</div><div class="ttdoc">Signals the automation system that a control has been touched.</div></div>
</div><!-- fragment --></div><div class="section">However, AAX plug-ins will rarely need to call these methods directly since the <a class="el" href="a01817.html">AAX_CParameter</a> and <a class="el" href="a01761.html">AAX_CEffectParameters</a> implementations will automatically handle parameter touch and release tokens whenever a new value is set on the parameter by the plug-in.</div><div class="section">Other clients besides the plug-in may touch a parameter. Since the TOUCH token can come from a control surface the touch state will actually come back to the plug-in via:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="a02113.html">AAX_IEffectParameters</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code" href="a00404.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a> <a class="code" href="a01953.html#a93483f44315bdf3adf60bf5bf773fbb8">UpdateParameterTouch</a> ( <a class="code" href="a00404.html#a1440c756fe5cb158b78193b2fc1780d1">AAX_CParamID</a> iParameterID, <a class="code" href="a00404.html#aa216506530f1d19a2965931ced2b274b">AAX_CBoolean</a> iTouchState );</div>
<div class="line">};</div>
<div class="ttc" id="aa00404_html_aa216506530f1d19a2965931ced2b274b"><div class="ttname"><a href="a00404.html#aa216506530f1d19a2965931ced2b274b">AAX_CBoolean</a></div><div class="ttdeci">uint8_t AAX_CBoolean</div><div class="ttdoc">Cross-compiler boolean type used by AAX interfaces.</div><div class="ttdef"><b>Definition:</b> AAX.h:329</div></div>
<div class="ttc" id="aa01953_html_a93483f44315bdf3adf60bf5bf773fbb8"><div class="ttname"><a href="a01953.html#a93483f44315bdf3adf60bf5bf773fbb8">AAX_IACFEffectParameters::UpdateParameterTouch</a></div><div class="ttdeci">virtual AAX_Result UpdateParameterTouch(AAX_CParamID iParameterID, AAX_CBoolean iTouchState)=0</div><div class="ttdoc">Sets a &quot;touched&quot; state on a parameter.</div></div>
</div><!-- fragment --></div><div class="section">This method is mainly important for <a class="el" href="a00840.html">linked parameters</a>.</div><div class="section"><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_aax_parameter_entities_touch_handled.svg" width="643" height="346"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
Touch request from a view controller, with resulting async touch update</div>
</div>
</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_introductionToTokens_set"></a>
Set</h2>
<div class="section">SET tokens can come from many different locations: the plug-in GUI, a control surface, loading a chunk or automation playback. Eventually the value of a SET token comes into the plug-in and that's when the internal value of the parameter gets updated. In AAX the SET token will be sent as a result of calling the following method:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span>AAX_CParemeter&lt;T&gt;</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> SetValue ( T newValue );</div>
<div class="line">};</div>
</div><!-- fragment --></div><div class="section">which will be called from many other supporting methods:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="a01817.html">AAX_CParameter</a>&lt;T&gt;</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="a01817.html#a2089ea0d243087c562ce8b1bd89a495a">SetValueWithBool</a> ( <span class="keywordtype">bool</span> value );</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="a01817.html#aaf45f020a267f894429b4a75ddbe9c6c">SetValueWithInt32</a> ( int32_t value );</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="a01817.html#ab3f589671d20c826859b4398e96ee9bb">SetValueWithFloat</a> ( <span class="keywordtype">float</span> value );</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="a01817.html#a7551c4071f91cb48103b5a8dda8f73eb">SetValueWithDouble</a> ( <span class="keywordtype">double</span> value );</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="a01817.html#a9ae87f0a8655c68ac7c59bec3f476c48">SetToDefaultValue</a> ();</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="a01817.html#ac4f8ae8c5ecb2cd04ebc3aa2523449f7">SetNormalizedValue</a> ( <span class="keywordtype">double</span> normalizedNewValue );</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="a01817.html#aa9194daefda8f6491849819fb25a73d2">SetValueFromString</a> ( <span class="keyword">const</span> <a class="code" href="a01853.html">AAX_CString</a> &amp; newValueString );</div>
<div class="line">};</div>
<div class="ttc" id="aa01817_html"><div class="ttname"><a href="a01817.html">AAX_CParameter</a></div><div class="ttdoc">Generic implementation of an AAX_IParameter.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:238</div></div>
<div class="ttc" id="aa01817_html_a2089ea0d243087c562ce8b1bd89a495a"><div class="ttname"><a href="a01817.html#a2089ea0d243087c562ce8b1bd89a495a">AAX_CParameter::SetValueWithBool</a></div><div class="ttdeci">bool SetValueWithBool(bool value) AAX_OVERRIDE</div><div class="ttdoc">Sets the parameter's value as a bool.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:758</div></div>
<div class="ttc" id="aa01817_html_a7551c4071f91cb48103b5a8dda8f73eb"><div class="ttname"><a href="a01817.html#a7551c4071f91cb48103b5a8dda8f73eb">AAX_CParameter::SetValueWithDouble</a></div><div class="ttdeci">bool SetValueWithDouble(double value) AAX_OVERRIDE</div><div class="ttdoc">Sets the parameter's value as a double.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:782</div></div>
<div class="ttc" id="aa01817_html_a9ae87f0a8655c68ac7c59bec3f476c48"><div class="ttname"><a href="a01817.html#a9ae87f0a8655c68ac7c59bec3f476c48">AAX_CParameter::SetToDefaultValue</a></div><div class="ttdeci">void SetToDefaultValue() AAX_OVERRIDE</div><div class="ttdoc">Restores the state of this parameter to its default value.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:826</div></div>
<div class="ttc" id="aa01817_html_aa9194daefda8f6491849819fb25a73d2"><div class="ttname"><a href="a01817.html#aa9194daefda8f6491849819fb25a73d2">AAX_CParameter::SetValueFromString</a></div><div class="ttdeci">bool SetValueFromString(const AAX_CString &amp;newValueString) AAX_OVERRIDE</div><div class="ttdoc">Converts a string to a real parameter value and sets the parameter to this value.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:1054</div></div>
<div class="ttc" id="aa01817_html_aaf45f020a267f894429b4a75ddbe9c6c"><div class="ttname"><a href="a01817.html#aaf45f020a267f894429b4a75ddbe9c6c">AAX_CParameter::SetValueWithInt32</a></div><div class="ttdeci">bool SetValueWithInt32(int32_t value) AAX_OVERRIDE</div><div class="ttdoc">Sets the parameter's value as an int32_t.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:766</div></div>
<div class="ttc" id="aa01817_html_ab3f589671d20c826859b4398e96ee9bb"><div class="ttname"><a href="a01817.html#ab3f589671d20c826859b4398e96ee9bb">AAX_CParameter::SetValueWithFloat</a></div><div class="ttdeci">bool SetValueWithFloat(float value) AAX_OVERRIDE</div><div class="ttdoc">Sets the parameter's value as a float.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:774</div></div>
<div class="ttc" id="aa01817_html_ac4f8ae8c5ecb2cd04ebc3aa2523449f7"><div class="ttname"><a href="a01817.html#ac4f8ae8c5ecb2cd04ebc3aa2523449f7">AAX_CParameter::SetNormalizedValue</a></div><div class="ttdeci">void SetNormalizedValue(double newNormalizedValue) AAX_OVERRIDE</div><div class="ttdoc">Sets a parameter value using it's normalized representation.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:922</div></div>
<div class="ttc" id="aa01853_html"><div class="ttname"><a href="a01853.html">AAX_CString</a></div><div class="ttdoc">A generic AAX string class with similar functionality to std::string</div><div class="ttdef"><b>Definition:</b> AAX_CString.h:46</div></div>
</div><!-- fragment --></div><div class="section">When a SET token enters the system from the GUI, control surface or automation the value comes bak to the plug-in via the following method:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="a01761.html">AAX_CEffectParameters</a></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="a00404.html#a4d8f69a697df7f70c3a8e9b8ee130d2f">AAX_Result</a> <a class="code" href="a01761.html#aeff79c1e5cc6b65c7ed21d9912f87caf">UpdateParameterNormalizedValue</a> ( <a class="code" href="a00404.html#a1440c756fe5cb158b78193b2fc1780d1">AAX_CParamID</a> iParameterID, <span class="keywordtype">double</span> aValue, <a class="code" href="a00503.html#a30be0398faf20c6b121239eb9399f3f7">AAX_EUpdateSource</a> inSource);</div>
<div class="line">};</div>
<div class="ttc" id="aa00503_html_a30be0398faf20c6b121239eb9399f3f7"><div class="ttname"><a href="a00503.html#a30be0398faf20c6b121239eb9399f3f7">AAX_EUpdateSource</a></div><div class="ttdeci">AAX_EUpdateSource</div><div class="ttdoc">Source for values passed into UpdateParameterNormalizedValue().</div><div class="ttdef"><b>Definition:</b> AAX_Enums.h:1028</div></div>
<div class="ttc" id="aa01761_html"><div class="ttname"><a href="a01761.html">AAX_CEffectParameters</a></div><div class="ttdoc">Default implementation of the AAX_IEffectParameters interface.</div><div class="ttdef"><b>Definition:</b> AAX_CEffectParameters.h:66</div></div>
<div class="ttc" id="aa01761_html_aeff79c1e5cc6b65c7ed21d9912f87caf"><div class="ttname"><a href="a01761.html#aeff79c1e5cc6b65c7ed21d9912f87caf">AAX_CEffectParameters::UpdateParameterNormalizedValue</a></div><div class="ttdeci">AAX_Result UpdateParameterNormalizedValue(AAX_CParamID iParameterID, double iValue, AAX_EUpdateSource iSource) AAX_OVERRIDE</div><div class="ttdoc">Updates a single parameter's state to its current value.</div></div>
</div><!-- fragment --></div><div class="section">At this point the internal contents of the plug-in are set.</div><div class="section"><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_aax_parameter_entities_update.svg" width="643" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
Set token asynchronously changes state of the parameter data</div>
</div>
</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_introductionToTokens_update"></a>
Update</h2>
<div class="section">An update token is generated when the internal value of a parameter has been set. GUIs and control surfaces listen for UPDATE tokens to update the displayed values. In AAX the UPDATE token is sent by calling the following method:</div><div class="section"><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="a01817.html">AAX_CParameter</a>&lt;T&gt;</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="a01817.html#a8a70b3c8bcff486c18e9a6e5c8ce4dda">UpdateNormalizedValue</a> ( <span class="keywordtype">double</span> newNormalizedValue );</div>
<div class="line">};</div>
<div class="ttc" id="aa01817_html_a8a70b3c8bcff486c18e9a6e5c8ce4dda"><div class="ttname"><a href="a01817.html#a8a70b3c8bcff486c18e9a6e5c8ce4dda">AAX_CParameter::UpdateNormalizedValue</a></div><div class="ttdeci">void UpdateNormalizedValue(double newNormalizedValue) AAX_OVERRIDE</div><div class="ttdoc">Sets the parameter's state given a normalized value.</div><div class="ttdef"><b>Definition:</b> AAX_CParameter.h:657</div></div>
</div><!-- fragment --></div><div class="section">All views of the parameter are then asynchronously notified that the value has changed. The plug-in GUI is notified via a call to <a class="el" href="a01949.html#a45b468fef806611581f748af9301ab4d">AAX_IEffectGUI::ParameterUpdated()</a>.</div><div class="section"><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_aax_parameter_entities_curvalue.svg" width="643" height="326"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
Update token triggers async updates to all views</div>
</div>
 </div><div class="section"> </div><h1><a class="anchor" id="tokenProtocol_standardTokenOperation"></a>
Basic Token Operation</h1>
<div class="section">The lists below indicate how the system works in a few different standard update scenarios. To enable logging for these events set <code>DTF_AUTOMATION=file@DTP_LOW</code> in the <a class="el" href="a00850.html">DigiTrace</a> configuration file. For more detailed information about the sequence of calls used to update parameters in different situations, see <a class="el" href="a00839.html">Basic parameter update sequences</a>.</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_standardTokenOperation_userEditing"></a>
User Editing</h2>
<div class="section"><ol type="1">
<li>User clicks on a parameter in the GUI or grabs a parameter on the controls surface. A TOUCH token should be sent at this point.</li>
<li>The user changes the parameter from the GUI or controls surface. A SET token should be sent at this point.</li>
<li>The SET token goes into the system and comes back to the plugin via UpdateParameterNormalizedValue().</li>
<li>The plug-in updates it's internal state and sends an UPDATE token.</li>
<li>Repeat steps 2-4 while changing the parameter.</li>
<li>The user lets go of the GUI or controls surface. A TOUCH token with the released state should be sent.</li>
</ol>
</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_standardTokenOperation_automationPlayback"></a>
Automation Playback</h2>
<div class="section"><ol type="1">
<li>The SET token comes from the automation system and enters the plugin via UpdateParameterNormalizedValue().</li>
<li>The plug-in updates it's internal state and sends an UPDATE token.</li>
<li>Repeat steps 1-2 while playing back automation.</li>
</ol>
</div><div class="section"></div><h2><a class="anchor" id="tokenProtocol_standardTokenOperation_chunkRestoring"></a>
Chunk Restoring</h2>
<div class="section"><ol type="1">
<li>Plug-in loads the chunk.</li>
<li>The plug-in sets every parameters value. Another thing to note is that the</li>
<li>SetValue() method also contains Touch() and Release() calls. So, while setting every parameter there is a combination of TOUCH and SET tokens sent to the system.</li>
<li>The SET tokens comes back to the plugin via UpdateParameterNormalizedValue().</li>
<li>The plug-in updates it's internal state and sends out UPDATE tokens.</li>
</ol>
</div><div class="section"></div> <div class="dynheader">
Collaboration diagram for Token protocol:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00838.svg" width="298" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><!-- contents -->
<!--        Copyright 2016, 2018, 2021 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
    <div class="FooterLegal">Â© 2021 Avid Technology, Inc. All rights reserved.</div>
    <div class="FooterLegal">This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.</div>
Generated on Wed Aug 25 2021 15:29:22 for AAX SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.1
</small></address>
</body>
</html>
